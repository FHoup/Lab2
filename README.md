## Отчет по лабораторной работе № 2

#### № группы: `ПМ-2401`

#### Выполнил: `Поташев Фёдор Сергеевич`

#### Вариант: `22`

### Cодержание:

- [Постановка задачи](#1-постановка-задачи)
- [Входные и выходные данные](#2-входные-и-выходные-данные)
- [Выбор структуры данных](#3-выбор-структуры-данных)
- [Алгоритм](#4-алгоритм)
- [Программа](#5-программа)
- [Анализ правильности решения](#6-анализ-правильности-решения)

### 1. Постановка задачи

> Напишите программу на Java, которая выполняет следующие действия
с двумерным массивом комплексных чисел:
>1. Считывает с консоли размеры массива N и M, затем элементы
  массива размером N×M, где каждый элемент — комплексное число
  в формате a + bi.
>2. Сортирует строки массива по возрастанию модуля комплексных чисел в строке. Если модули равны, сравнивает аргументы чисел.
>3. Находит и выводит сумму всех мнимых частей чисел в массиве.
>4. Выводит элементы массива, заменяя каждое комплексное число на
   его сопряжённое.
>5. Вычисляет и выводит произведение всех модулей комплексных чисел в массиве.

Данную задачу можно разделить на 5 подзадачи, соответствующих пунктам условия:
1. Создание массива размером n строк на m столбцов, и считывание комплексных чисел вида "a + bi"
2. Сортировка массива по возрастанию модуля числа или, при их равенстве, по аргументу
3. Нахождение суммы всех мнимых частей чисел
4. Создание массива с замененными элементами на их сопряженные
5. Вычисление произведения модулей чисел


### 2. Входные и выходные данные

#### Данные на вход
На вход программа получает 2 целых числа. N - количество строк, M - количество столбцов. А далее вводится строки вида: "a + bi", количество чисел равно произведению N на M.

|          | Тип         | min значение      | max значение       |
|----------|-------------|-------------------|--------------------|
| Число 1  | Целое число | -2<sup>31</sup>   | 2<sup>31</sup> - 1 |
| Число 2  | Целое число | -2<sup>31</sup>   | 2<sup>31</sup> - 1 |
| Строка 1 | Строка      | a=0  <br/>b=0     | a=9 <br/>b=9       |

#### Данные на выход
В программе будет три вывода. А именно: сумму всех мнимых частей чисел, элементы массива, заменяя каждое комплексное число на
его сопряжённое, и произведение всех модулей комплексных чисел. Таким образом все значения будут иметь разные типы и разные диапазоны значений.

|         | Тип                | min значение     | max значение        |
|---------|--------------------|------------------|---------------------|
| Число 1 | Целое число        | -2<sup>31</sup>  | 2<sup>31</sup> - 1  |
| Массив  | Массив строк       | n*m              |                     |
| Число 2 | Вещественное число | -10<sup>9</sup>  | 10<sup>9</sup>      |

### 3. Выбор структуры данных

Данная структуры выбрана исходя из требований задачи и для простоты восприятия

|         | Название переменной | Тип в Java |
|---------|---------------------|------------|
| Число 1 | `n`                 | `int`      |
| Число 2 | `m`                 | `int`      |
| Строки  | `Имеет вид "a+bi"`  | `String`   |

### 4. Алгоритм
1. **Ввод данных:**

    Программа считывает 2 различных числа, обозначенные как m и n.
    Далее создается массив размером m x n, и заполняется строками

2. **Подсчет суммы мнимых частей чисел:**
    
    Создаем переменную s, равную 0. А далее, в момент заполнения массива, от каждой строки берем элемент стоящий на 3ем месте, 
    вычитаем из него '0' и получившиеся число прибавляем к s.

3.  **Создание массива модулей введенных чисел и подсчет их произведения:**

    Для этого создадим массив с именем mod, и с помощью двойного цикла заполним его. Для вычисления модуля мы используем функции из
    Math, а именно Math.sqrt и Math.pow. Параллельно с заполнением массива будем считать произведение модулей. Умножая переменную p (изначально равную 1)
    на значение модуля.

4. **Сортировка массива по значению модуля и по значению аргумента:**
    
    Выполняем сортировку методом пузырька. При этом меняем как элементы в массиве, так и значение модулей и аргументов в соответствующих
    массивах.

5. **Вывод результата:**

   На экран выводится сначала число, равное сумме всех мнимых частей, затем массив с элементами замененными на их обратный. После этого
    выводим произведение модулей.
    Вывод обратных элементов производится по следующему алгоритму. Выводим a, затем знак '/', далее сумму a<sup>2</sup> и b<sup>2</sup>.
    После этого выводим "-(", далее b, затем знак '/', далее сумму a<sup>2</sup> и b<sup>2</sup>, и в самом конце выводим ")i ".
   

### 5. Программа

```java
import java.io.IOException;
import java.io.PrintStream;
import java.util.Scanner;
public class Main {
    public static Scanner in = new Scanner(System.in);
    public static PrintStream out = System.out;

    public static void main(String[] args) throws IOException {
        int n = in.nextInt(); //Количество строк
        int m = in.nextInt(); //Количество столбцов
        double proizv = 1;
        in.nextLine();
        String [][] a = new String[n][m]; // Исходный массив
        double [][] mod = new double[n][m]; // Массив модулей
        double [][] arg = new double[n][m]; // Массив аргументов
        int s = 0;
        for (int i = 0 ; i < a.length ; i++) { // Ввод массива
            for (int j = 0; j < a[i].length; j++) {
                a[i][j] = in.nextLine();
                s=s+(a[i][j].charAt(4)-'0'); //Подсчет суммы мнимых частей чисел
            }
        }
        for (int z = 0; z < a.length ; z++) { // Заполнение массива модулей чисел
            for (int x = 0; x < a[z].length; x++) {
                mod[z][x] = Math.sqrt((Math.pow(a[z][x].charAt(0)-'0',2) + Math.pow(a[z][x].charAt(4)-'0',2)));
                proizv=proizv*mod[z][x]; //Подсчет произведения моделей чисел
            }
        }
        for (int z = 0; z < a.length ; z++) { // Заполнение массива аргументов чисел
            for (int x = 0; x < a[z].length; x++) {
                arg[z][x] = Math.atan(a[z][x].charAt(4)-'0' / a[z][x].charAt(0)-'0');
            }
        }

        for (int i = 0 ; i < a.length ; i++) { // Сортировка массива
            for (int j = 0; j < a.length-i; j++) {
                if (mod[i][j]==mod[i][j+1]){
                    if (arg[i][j]>arg[i][j+1]){
                        String z = a[i][j];
                        a[i][j] = a[i][j+1];
                        a[i][j+1] = z;
                        double u = arg[i][j];
                        arg[i][j] = arg[i][j+1];
                        arg[i][j+1] = u;
                        double y = mod[i][j];
                        mod[i][j] = mod[i][j+1];
                        mod[i][j+1] = y;
                    }
                }
                else{
                    if (mod[i][j]>mod[i][j+1]){
                        String z = a[i][j];
                        a[i][j] = a[i][j+1];
                        a[i][j+1] = z;
                        double y = mod[i][j];
                        mod[i][j] = mod[i][j+1];
                        mod[i][j+1] = y;
                        double u = arg[i][j];
                        arg[i][j] = arg[i][j+1];
                        arg[i][j+1] = u;
                    }
                }
            }
        }

        out.println(proizv); // Вывод произведения
        for (int i = 0 ; i < a.length ; i++) { // Вывод массива обратных элементов
            for (int j = 0 ; j < a[i].length ; j++) {
                int sumab = (int) (Math.pow(a[i][j].charAt(0)-'0',2) + Math.pow(a[i][j].charAt(4)-'0',2));
                out.print(a[i][j].charAt(0));
                out.print('/');
                out.print(sumab);
                out.print("-(");
                out.print(a[i][j].charAt(4));
                out.print('/');
                out.print(sumab);
                out.print(")i ");
            }
            out.println();
        }
        out.println(s); // Вывод суммы мнимых частей
    }
}
``` 

### 6. Анализ правильности решения

1. Случайный массив

- Input:
    ```
    2
    3
    1 + 1i
    8 + 6i
    6 + 8i
    5 + 4i
    2 + 2i
    4 + 5i
    ```

- Output:
    ```
    16400.000000000004
    1/2-(1/2)i 8/100-(6/100)i 6/100-(8/100)i
    2/8-(2/8)i 5/41-(4/41)i 4/41-(5/41)i
    26
    ```

2. Массив одинаковых чисел

- Input:
    ```
    1
    2
    1 + 1i
    1 + 1i
    ```

- Output:
    ```
    2.0000000000000004
    1/2-(1/2)i 1/2-(1/2)i
    2
    ```
  
3. Массив обратно отсортированный

- Input:
    ```
    2
    3
    9 + 9i
    5 + 5i
    2 + 2i
    8 + 8i
    6 + 6i
    1 + 1i
    ```

- Output:
    ```
    34560.00000000001
    5/50-(5/50)i 2/8-(2/8)i 9/162-(9/162)i
    6/72-(6/72)i 8/128-(8/128)i 1/2-(1/2)i
    31
    ```